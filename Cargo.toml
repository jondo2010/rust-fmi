[package]
name = "fmi"
version = "0.3.0"
authors = ["John Hughes <jondo2010@gmail.com>"]
edition = "2021"
include = [
    "/Cargo.toml",
    "/LICENSE-APACHE",
    "/LICENSE-MIT",
    "/README.md",
    "/build.rs",
    "/examples/**",
    "/src/**",
]
description = "A Rust interface to FMUs (Functional Mockup Units) that follow the FMI Standard. See http://www.fmi-standard.org/"
repository = "https://github.com/jondo2010/rust-fmi"
readme = "README.md"
license = "MIT OR Apache-2.0"
keywords = ["model", "ode", "modelica"]
categories = ["science", "simulation"]

[features]
default = [
    "fmi2",
    #"fmi3",
]
fmi2 = []
fmi3 = []

[build-dependencies]
cc = "1.0"
built = "0.7"
bindgen = "0.69"

[dependencies]
serde = { version = "1.0", features = ["derive"] }
serde-xml-rs = "0.6"
dtparse = "2.0"
num-traits = "0.2"
zip = "0.6"
url = "2.2"
tempfile = "3.1"
chrono = { version = "0.4", features = ["serde"] }
libc = { version = "0.2", features = ["align"] }
log = { version = "0.4", features = ["std", "serde"] }
thiserror = "1.0"

yaserde = "0.8"
yaserde_derive = "0.8"
slotmap = "1.0"
#xml-schema-derive = { version = "0.2.0" }
#xsd-types = { git = "https://github.com/lumeohq/xsd-parser-rs.git" }
itertools = "0.12"
libloading = "0.8"

[dev-dependencies]
env_logger = "0.10"
csv = "1.0"
assert_approx_eq = "1.1"
test-log = "0.2"

[workspace]
members = ["fmi_check"]

# Config for 'cargo dist'
[workspace.metadata.dist]
# The preferred cargo-dist version to use in CI (Cargo.toml SemVer syntax)
cargo-dist-version = "0.4.2"
# CI backends to support
ci = ["github"]
# The installers to generate for each app
installers = []
# Target platforms to build apps for (Rust target-triple syntax)
targets = [
    "x86_64-unknown-linux-gnu",
    "aarch64-apple-darwin",
    "x86_64-pc-windows-msvc",
]
# Publish jobs to run in CI
pr-run-mode = "plan"

# The profile that 'cargo dist' will build with
[profile.dist]
inherits = "release"
lto = "thin"
